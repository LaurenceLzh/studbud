{"mappings":"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","sources":["public/javascripts/script.js"],"sourcesContent":["/* Set the width of the sidebar to 250px (show it) */\r\nlet show = true;\r\nconst sidePanel = document.getElementById(\"side_panel\");\r\nfunction toggleNav() {\r\n  if (show) {\r\n    sidePanel.style.width = \"0px\";\r\n    show = false;\r\n  } else {\r\n    sidePanel.style.width = \"250px\";\r\n    show = true;\r\n  }\r\n}\r\n\r\nconst sidePanelLinks = sidePanel.querySelectorAll('a');\r\nconst iframe = document.getElementById('iframe');\r\n// iframe route to the link when slide panel link click\r\nsidePanelLinks.forEach(link => {\r\n  link.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    const href = e.target.href;\r\n    sidePanelLinks.forEach(l => l.classList.remove('active'));\r\n    link.classList.add('active');\r\n    iframe.setAttribute('src', href);\r\n  });\r\n});\r\n// play list button click to route music page\r\ndocument.getElementById('play_list').addEventListener('click', () => {\r\n  sidePanelLinks.forEach(l => l.classList.remove('active'));\r\n  sidePanelLinks[sidePanelLinks.length - 1].classList.add('active');\r\n  iframe.setAttribute('src', 'music.html');\r\n});\r\n\r\nconst tomatoTime = document.getElementById('tomatoTime');\r\nconst tomatoProgress = document.getElementById('tomatoProgress');\r\nconst endAudio = document.getElementById('end_audio');\r\nconst tomatoStatus = document.getElementById('tomato_status');\r\nlet tomatoWorkingInterval;\r\nlet pauseFlag = false;\r\nlet tomatoPauseTime = 0;\r\nlet tomatoStartTime;\r\nlet tomatoEndTime;\r\nlet duration = 0;\r\n// start working time\r\nfunction startWorkingTime(hour, minute, breakHour, breakMinute) {\r\n  if (tomatoWorkingInterval) {\r\n    clearInterval(tomatoWorkingInterval);\r\n  }\r\n  tomatoPauseTime = 0;\r\n  tomatoStartTime = Date.now();\r\n  duration = hour + minute;\r\n  tomatoEndTime = tomatoStartTime + duration;\r\n  tomatoStatus.innerHTML = 'WORKING';\r\n  tomatoStatus.style.backgroundColor = '#f4a261';\r\n  // call the anonymous function every 10 seconds, update progress and time string\r\n  tomatoWorkingInterval = setInterval(() => {\r\n    if (!pauseFlag) {\r\n      console.log(tomatoPauseTime);\r\n      const times = tomatoEndTime - Date.now() - tomatoPauseTime;\r\n      // when working time is end, play an end music, then start break time\r\n      if (times <= 0) {\r\n        clearInterval(tomatoWorkingInterval);\r\n        endAudio.play();\r\n        startBreakTime(breakHour, breakMinute);\r\n        return;\r\n      }\r\n\r\n      const minutes = Math.floor(times / 60000);\r\n      const seconds = Math.floor(( times - minutes * 60000) / 1000);\r\n\r\n      const timeStr = (minutes < 10 ? \"0\" + minutes : minutes) + \":\"\r\n        + (seconds < 10 ? \"0\" + seconds : seconds);\r\n      tomatoTime.innerHTML = timeStr;\r\n      tomatoProgress.style.width = ((hour + minute) - times) / (hour + minute) * 100 + '%';\r\n      iframe.contentWindow.tomatoUpdate(timeStr, (hour + minute) / 60000, 'WORKING');\r\n    }\r\n  }, 16)\r\n}\r\n\r\n// start break time\r\nfunction startBreakTime(hour, minute) {\r\n  if (tomatoWorkingInterval) {\r\n    clearInterval(tomatoWorkingInterval);\r\n  }\r\n  tomatoPauseTime = 0;\r\n  tomatoStatus.innerHTML = 'BREAK';\r\n  tomatoStatus.style.backgroundColor = '#a0f4ea';\r\n  tomatoStartTime = Date.now();\r\n  duration = hour + minute;\r\n  tomatoEndTime = tomatoStartTime + duration;\r\n  // call the anonymous function every 10 seconds, update progress and time string\r\n  tomatoWorkingInterval = setInterval(() => {\r\n    if (!pauseFlag) {\r\n      const times = tomatoEndTime - Date.now() - tomatoPauseTime;\r\n      if (times <= 0) {\r\n        clearInterval(tomatoWorkingInterval);\r\n        return;\r\n      }\r\n      const minutes = Math.floor(times / 60000);\r\n      const seconds = Math.floor(( times - minutes * 60000) / 1000);\r\n\r\n      const timeStr = (minutes < 10 ? \"0\" + minutes : minutes) + \":\"\r\n        + (seconds < 10 ? \"0\" + seconds : seconds);\r\n      tomatoTime.innerHTML = timeStr;\r\n      tomatoProgress.style.width = ((hour + minute) - times) / (hour + minute) * 100 + '%';\r\n      iframe.contentWindow.tomatoUpdate(timeStr, (hour + minute) / 60000, 'BREAK');\r\n    }\r\n  });\r\n}\r\n\r\n// pause and continue tomato time when click\r\ntomatoTime.addEventListener('click', () => {\r\n  pauseFlag = !pauseFlag;\r\n  if (pauseFlag) {\r\n    tomatoPauseTime = Date.now() - tomatoStartTime;\r\n  } else {\r\n    tomatoEndTime = Date.now() + duration;\r\n  }\r\n});\r\n\r\nlet musicIndex = 0;\r\nlet currentMusic;\r\nlet musicInterval;\r\nlet pause = false;\r\nlet pauseTime = 0;\r\nlet startTime;\r\nconst musicList = document.querySelectorAll('#music_list .music-item');\r\nconst audios = document.querySelectorAll('#music_list audio');\r\nconst musicProgress = document.getElementById('music_progress');\r\n\r\nfunction playMusic() {\r\n  const musicItem = musicList[musicIndex]; // get music by current music index\r\n  if (pause) {\r\n    pause = false;\r\n    currentMusic.play();\r\n  } else {\r\n    // new music to play\r\n    startTime = Date.now();\r\n    musicList.forEach(item => item.style.display = 'none');\r\n    musicItem.style.display = 'flex';\r\n    pauseTime = 0;\r\n    currentMusic = musicItem.querySelector('audio');\r\n    currentMusic.play();\r\n    currentMusic.removeEventListener('ended', playEnd);\r\n    currentMusic.addEventListener('ended', playEnd);\r\n  }\r\n\r\n  // calculate play time and update play progress\r\n  const duration = parseInt(currentMusic.duration) * 1000;\r\n  const musicEndTime = Date.now() + duration;\r\n\r\n  if (musicInterval) {\r\n    clearInterval(musicInterval);\r\n  }\r\n  musicInterval = setInterval(() => {\r\n    const times = musicEndTime - Date.now() - pauseTime;\r\n    if (times <= 0) {\r\n      clearInterval(musicInterval);\r\n      return;\r\n    }\r\n    musicProgress.style.width = (duration - times) / (duration) * 100 + '%'\r\n  }, 16);\r\n}\r\n\r\n// when a music play end, it will play another by play mode\r\nfunction playEnd() {\r\n  if (playMode === 0) {\r\n    musicIndex++;\r\n    if (musicIndex === 5) {\r\n      musicIndex = 0;\r\n    }\r\n  } else {\r\n    musicIndex = Math.floor(Math.random() * 4);\r\n  }\r\n  playMusic();\r\n  if (iframe.contentWindow.setMusicItemActive) {\r\n    iframe.contentWindow.setMusicItemActive();\r\n  }\r\n}\r\n\r\n// pause the music when click\r\nconst stopBtn = document.getElementById('stop-btn');\r\nstopBtn.addEventListener('click', () => {\r\n  currentMusic.pause();\r\n  pause = true;\r\n  pauseTime = Date.now() - startTime;\r\n  clearInterval(musicInterval);\r\n  playBtn.style.display = 'block';\r\n  stopBtn.style.display = 'none';\r\n});\r\n\r\nconst playBtn = document.getElementById('play-btn');\r\nplayBtn.addEventListener('click', () => {\r\n  playMusic();\r\n  playBtn.style.display = 'none';\r\n  stopBtn.style.display = 'block';\r\n});\r\n\r\n// set play music to prev\r\nconst prevBtn = document.getElementById('prev-btn');\r\nprevBtn.addEventListener('click', () => {\r\n  if (musicIndex > 0) {\r\n    musicIndex--;\r\n    audios.forEach(audio => {\r\n      audio.pause();\r\n      audio.currentTime = 0;\r\n    });\r\n    playMusic();\r\n    playBtn.style.display = 'none';\r\n    stopBtn.style.display = 'block';\r\n    if (iframe.contentWindow.setMusicItemActive) {\r\n      iframe.contentWindow.setMusicItemActive();\r\n    }\r\n  }\r\n});\r\n\r\n// set play music to next\r\nconst nextBtn = document.getElementById('next-btn');\r\nnextBtn.addEventListener('click', () => {\r\n  if (musicIndex < 3) {\r\n    musicIndex++;\r\n    audios.forEach(audio => {\r\n      audio.pause();\r\n      audio.currentTime = 0;\r\n    });\r\n    playMusic();\r\n    playBtn.style.display = 'none';\r\n    stopBtn.style.display = 'block';\r\n    if (iframe.contentWindow.setMusicItemActive) {\r\n      iframe.contentWindow.setMusicItemActive();\r\n    }\r\n  }\r\n});\r\n\r\n// switch play music mode\r\nlet playMode = 0;\r\nconst orderPlay = document.getElementById('order_play');\r\nconst randomPlay = document.getElementById('random_play');\r\norderPlay.addEventListener('click', () => {\r\n  if (playMode === 0) {\r\n    playMode = 1;\r\n    orderPlay.style.display = 'none';\r\n    randomPlay.style.display = 'inline-block';\r\n  }\r\n});\r\n\r\nrandomPlay.addEventListener('click', () => {\r\n  if (playMode === 1) {\r\n    playMode = 0;\r\n    orderPlay.style.display = 'inline-block';\r\n    randomPlay.style.display = 'none';\r\n  }\r\n});\r\n"],"names":[],"version":3,"file":"index.030a5644.js.map","sourceRoot":"/__parcel_source_root/"}